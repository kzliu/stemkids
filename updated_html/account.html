<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<!--meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1"/-->
	<meta name="description" content=""/>
	<meta name="keywords" content=""/>

	<title>Create an Account</title>

	<link href="/favicon.ico" rel="icon"/>
	<link href="apple-favicon.png" rel="apple-touch-icon"/>
	<link href="css/new_main.css" type="text/css" rel="stylesheet" media="all"/>
	<link href="css/account.css" type="text/css" rel="stylesheet" media="all"/>
	<script src="/socket.io/socket.io.js"></script>
</head>
<body>
	<div class="main">
		<div class="wrapper">
			<form action="/createNewAccount" method="post">
				<div class="fields">
					<h1 class="title">Create an account</h1>
					<p id="errorMessage">{{ message }}</p>
					<div class="row c2">
						<div class="col">
							<div class="field">
								<div class="wrap">
									<input id="firstname" name="firstname" type="text" placeholder="First name*" value="{{firstname}}" required/>
								</div>
							</div>
							<div class="field">
								<div class="wrap">
									<input id="age" name="age" type="number" placeholder="Age*" value="{{age}}" min="1"  required/>
								</div>
							</div>
							<div class="field">
								<div class="wrap">
									<input id="school" name="school" type="text" placeholder="School*" value="{{school}}" required/>
								</div>
							</div>
							<div class="field">
								<div class="wrap">
									<input id="email" name="email" type="email" placeholder="E-mail*" value="{{email}}" required/>
								</div>
							</div>
							<div class="field">
								<div class="wrap">
									<input id="username" name="username" type="text" placeholder="Username*" required/>
								</div>
							</div>
						</div>
						<div class="col">
							<div class="field">
								<div class="wrap">
									<input id="lastname" name="lastname" type="text" placeholder="Last name*" value="{{lastname}}" required/>
								</div>
							</div>
							<div class="field">
								<div class="wrap">
										<select class= "gender_menu" name ="Gender">
											<option value= "Gender"> Gender*</option>
											<option value= "Male"> Male </option>
											<option value= "Female">Female </option>
											<option value= "Other"> Other</option>
									</select>
								</div>
							</div>
							<div class="field">
								<div class="wrap">
									<input id="grade" name="grade" type="text" placeholder="Grade*" value="{{grade}}" required/>
								</div>
							</div>
							<div class="field">
								<div class="wrap">
									<input id="phone" name="phone" type="tel" placeholder="Phone number" value="{{phone}}"/>
								</div>
							</div>
							<div class="field">
								<div class="wrap">
									<input id="password" name="password" type="password" placeholder="Password*" required/>
								</div>
							</div>
						</div>
					</div>
					<div class="buttons">
						<button class="btn orange" type="submit">
							<p>Submit!</p>
						</button>
					</div>
				</div>
			</form>
		</div>
	</div>

	<script src="js/jquery-2.2.0.min.js" type="text/javascript"></script>
	<script src="js/main.js" type="text/javascript"></script>
</body>
<script>
var socket = io.connect();

window.addEventListener('load', function(){

	$('#username').keyup(function() {
		console.log($("#username").val());
		socket.emit('existingUser', $("#username").val(), function(isUsername) {
        	if (isUsername == 1) {
        		$('#username').css('background', 'red');
          	} else {
          		$('#username').css('background', 'green');
          	}
    	});
	}); 


	// socket.on('createAccountError', function(message) {
	// 	console.log(message);
	// 	$("#errorMessage").html(message);
	// 	$('#username').val('');
	// });
}, false);



</script>
</html>